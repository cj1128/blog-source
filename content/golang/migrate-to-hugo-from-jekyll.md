---
date: 2017-06-04T15:46:33+08:00
draft: true
title: ä»Jekyllè¿ç§»åˆ°Hugoï¼ŒHugoä¸å®Œå…¨æŒ‡å—
---
æœ€è¿‘è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨å¿™ç€è¿ç§»åšå®¢ï¼ŒæŠŠåŸæœ¬åŸºäºJekyllçš„åšå®¢è¿ç§»åˆ°äº†Hugoä¸Šã€‚

ä¹‹æ‰€ä»¥ä»Jekyllè¿ç§»çš„åŸå› å¹¶ä¸å¤æ‚ï¼Œå°±æ˜¯ä¸€ä¸ªå­—ï¼š**æ…¢**ã€‚Jekyllçš„é€Ÿåº¦å®åœ¨æ˜¯å¤ªæ…¢äº†ï¼Œæˆ‘åªæœ‰å‡ åç¯‡æ–‡ç« ï¼Œåœ¨Watchæ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡æ”¹åŠ¨ï¼Œé‡æ–°ç”Ÿæˆéƒ½è¦èŠ±è´¹3ç§’é’Ÿï¼Œå®åœ¨æ˜¯å¤ªæ…¢äº†ã€‚

```bash
Regenerating: 1 file(s) changed at 2017-05-14 10:37:16 ...done in 3.085089 seconds.
Regenerating: 1 file(s) changed at 2017-05-14 10:37:20 ...done in 3.121783 seconds.
```

<!--more-->

æˆ‘çš„æœºå™¨æ˜¯i7çš„CPUï¼Œ16Gçš„å†…å­˜å¤–åŠ 256Gçš„SSDã€‚å¦‚æ­¤å¼ºçš„é…ç½®ï¼Œå¦‚æ­¤ç®€å•çš„æ“ä½œï¼Œç«Ÿç„¶èŠ±è´¹äº†3ç§’é’Ÿï¼Œæˆ‘ä¸çŸ¥é“è¿™æ˜¯Rubyçš„åŸå› è¿˜æ˜¯å’ŒJekyllæœ¬èº«çš„å®ç°æœ‰å…³ç³»ï¼Œæˆ‘ä¹Ÿä¸å…³å¿ƒäº†ã€‚æ…¢æˆè¿™æ ·ï¼Œæˆ‘åªèƒ½æ¢æ‰å®ƒäº†ã€‚

è¿™é‡Œè¦æ’ä¸€å¥ï¼Œå¦‚æœä½ çš„Jekyllç«™ç‚¹ä¸­ä½¿ç”¨äº†npmæ¥ç®¡ç†JSä¾èµ–ï¼Œä¸€å®šè¦è®°å¾—é…ç½®Jekyllè®©å®ƒå¿½ç•¥`node_modules`æ–‡ä»¶å¤¹ï¼Œå¦åˆ™ä¼šæ…¢åˆ°ä½ æ€€ç–‘äººç”Ÿã€‚

## é™æ€ç«™ç‚¹ç”Ÿæˆå™¨

Jekyllæ˜¯ç›®å‰æœ€ä¸ºæµè¡Œçš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼ˆStatic Site Generatorï¼Œåé¢ç®€ç§°ä¸ºSSGï¼‰ï¼Œæµè¡Œçš„åŸå› æˆ‘æƒ³ä¸€å¤§åŠå½’åŠŸäºGitHubçš„æ¨å¹¿ï¼ŒJekyllæ˜¯GitHub Pagesé»˜è®¤çš„SSGã€‚

åœ¨æˆ‘çœ‹æ¥ï¼ŒSSGæ˜¯ä¸€ä¸ªååˆ†æœ‰ç”¨çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç”Ÿæˆé™æ€ç½‘ç«™ã€‚é™æ€ç½‘ç«™æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œæœ€ä¸ºå…³é”®çš„æ˜¯ï¼š

1. å¼€å‘éƒ¨ç½²ç»´æŠ¤ç®€å•ï¼Œçœæ—¶çœåŠ›ï¼Œç²¾åŠ›å¯ä»¥ä¸“æ³¨åœ¨å†…å®¹ä¸Šã€‚
2. è®¿é—®é€Ÿåº¦å¿«ï¼Œè¿˜æœ‰ä»€ä¹ˆæ¯”ç›´æ¥è¿”å›å·²ç»æ¸²æŸ“å¥½çš„ç½‘é¡µæ›´å¿«çš„å‘¢ï¼Ÿ

å¹¶ä¸æ˜¯æ¯ä¸€ä¸ªç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªServeræ¥åŠ¨æ€ç”Ÿæˆå†…å®¹ï¼Œä¹Ÿä¸æ˜¯æ¯ä¸€ä¸ªç½‘ç«™éƒ½éœ€è¦æ•°æ®åº“ã€‚åšå®¢ç³»ç»Ÿï¼Œæ–‡æ¡£ç³»ç»Ÿï¼Œä¼ä¸šå®˜ç½‘ç­‰ç­‰ï¼Œéƒ½æ˜¯é™æ€ç½‘ç«™çš„å¥½ç”¨ä¾‹ã€‚

SSGç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ ¹æ®é…ç½®å’Œå†…å®¹ï¼Œç”Ÿæˆé™æ€ç½‘ç«™ã€‚é…ç½®ä¸€èˆ¬ç”±å…¨å±€é…ç½®ï¼Œæ¨¡æ¿ï¼Œä»¥åŠ`FrontMatter`æ„æˆã€‚

FrontMatteræŒ‡çš„æ˜¯æ–‡ç« æœ€å‰é¢çš„ä¸€æ®µåŒºåŸŸï¼Œä¸€èˆ¬ç”±`---`åˆ†å¼€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™æ®µåŒºåŸŸä¸­æ·»åŠ è¿™ç¯‡æ–‡ç« æºå¸¦çš„æ•°æ®ï¼Œæ•°æ®æ ¼å¼ä¸€èˆ¬æ˜¯YAMLï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```markdown
---
name: CJ
date: 2017-06-09T11:01:08+08:00
---
ä»è¿™é‡Œå¼€å§‹æ˜¯æ­£æ–‡çš„å†…å®¹ã€‚
```

åç»­åœ¨æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ•°æ®è¯»å–å‡ºæ¥åšä¸€äº›æ“ä½œï¼Œæ¯”å¦‚ï¼Œæ‰€æœ‰`name`å±æ€§ä¸º`CJ`çš„æ–‡ç« å¯ä»¥æˆ‘ä»¬æ·»åŠ ç‰¹åˆ«çš„classè¿›è¡Œé«˜äº®ï¼Œè¿™å°±å¤§å¤§å¢åŠ äº†æ¸²æŸ“çš„çµæ´»æ€§ã€‚

ç›®å‰ï¼Œæœ€ä¸ºæµè¡Œçš„SSGæ˜¯Jekyllï¼ŒHugoï¼ŒHexoè¿™ä¸‰ä¸ªï¼Œä¸å¤ªæµè¡Œçš„æ•°ä¸èƒœæ•°ï¼Œå…·ä½“å¯ä»¥å»çœ‹[Static Gen]ç½‘ç«™ã€‚

ä¸ç®¡æ˜¯ä»€ä¹ˆå‹å·ï¼Œå·¥ä½œåŸç†éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒæŒæ¡äº†ä¸€ä¸ªï¼Œå‰©ä¸‹çš„å­¦ä¹ èµ·æ¥ä¹Ÿå¾ˆå®¹æ˜“ã€‚é‰´äºæˆ‘å¯¹Golangçš„å–œçˆ±ï¼Œç®€å•äº†è§£Hugoä»¥åï¼Œå°±é€‰æ‹©ä½¿ç”¨Hugoä½œä¸ºæ–°çš„åšå®¢å¼•æ“äº†ã€‚Hugoçš„ä¼˜ç‚¹å¾ˆå¤šï¼Œæœ€ä¸ºé‡è¦çš„è‡ªç„¶æ˜¯ï¼š**å¿«**ã€‚ç›¸æ¯”äºJekyllè¦èŠ±è´¹3ç§’é’Ÿï¼Œæˆ‘çš„åšå®¢åœ¨Hugoä¸‹åªè¦èŠ±è´¹30msï¼Œè¶³è¶³å¿«äº†100å€ã€‚

ä¸‹é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨Hugoæ¥åšä¸€ä¸ªç®€å•çš„åšå®¢ç³»ç»Ÿï¼ˆMy Blogï¼‰ï¼Œäº†è§£ä¸€ä¸‹Hugoçš„åŸºæœ¬ä½¿ç”¨ã€‚

## å®‰è£…

é¦–å…ˆï¼Œè‡ªç„¶æ˜¯å®‰è£…Hugoã€‚å¦‚æœä½ æ˜¯Mac,`brew install hugo`ã€‚

å¦‚æœä½ å®‰è£…äº†Goï¼Œ`go get -u github.com/spf13/hugo`ã€‚

å…¶ä»–æƒ…å†µï¼Œå¯ä»¥ç›´æ¥å»[Hugo Release]é¡µé¢ï¼Œä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶ç¨‹åºå³å¯ã€‚

## éª¨æ¶

æˆ‘ä»¬å…ˆä½¿ç”¨Hugoç”Ÿæˆæˆ‘ä»¬çš„åšå®¢ç«™ç‚¹ã€‚

```bash
# hugoæ”¯æŒå¤šç§é…ç½®æ ¼å¼ï¼Œé»˜è®¤ä¸ºtomlï¼Œä½¿ç”¨`-f`æ¥ä¿®æ”¹
hugo new site -f yaml my-blog 
tree my-blog
my-blog
â”œâ”€â”€ archetypes
â”œâ”€â”€ config.yaml
â”œâ”€â”€ content
â”œâ”€â”€ data
â”œâ”€â”€ layouts
â”œâ”€â”€ static
â””â”€â”€ themes

6 directories, 1 file
```

ä¸€å…±å…­ä¸ªæ–‡ä»¶å¤¹ï¼Œå¤–åŠ ä¸€ä¸ªå…¨å±€é…ç½®æ–‡ä»¶`config.yaml`ã€‚

- `archetypes`ï¼šç»™ä¸åŒçš„ç±»å‹å®šä¹‰é»˜è®¤FrontMatterï¼Œä¸€èˆ¬ç”¨ä¸ä¸Š
- `content`ï¼šæºæ–‡ä»¶
- `data`ï¼šæ•°æ®æ–‡ä»¶ï¼Œä¸€èˆ¬ä¹Ÿç”¨ä¸ä¸Š
- `layouts`ï¼šæ¨¡æ¿
- `static`ï¼šé™æ€èµ„æºï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦Hugoå¤„ç†çš„é™æ€èµ„æºï¼Œæ¯”å¦‚å›¾ç‰‡ç­‰
- `themes`ï¼šç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå°†ç¬¬ä¸‰æ–¹ä¸»é¢˜æ‹·è´åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹å³å¯ä½¿ç”¨

æ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯contentå’Œlayoutsï¼Œä¸€ä¸ªå­˜æ”¾å†…å®¹ï¼Œä¸€ä¸ªå­˜æ”¾æ¨¡æ¿ã€‚Hugoä½¿ç”¨çš„æ¨¡æ¿ä¸ºGoæ ‡å‡†åº“ä¸­çš„`text/template`ï¼Œå’Œæ‰€æœ‰å…¶ä»–æ¨¡æ¿ç³»ç»Ÿä¸€æ ·ï¼Œçœ‹çœ‹æ–‡æ¡£[Go Template Primer]æŒæ¡åŸºæœ¬å‡½æ•°å³å¯ã€‚

`config.yaml`ä¸­æ˜¯å…¨å±€é…ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡ç« çš„FrontMatteræ•°æ®æ ¼å¼ä¸ºTOMLï¼Œæˆ‘ä»¬å°†å…¶æ”¹ä¸ºYAMLï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®åˆ°`config.yaml`ä¸­ã€‚

```yaml
metaDataFormat: yaml
```

## å†…å®¹

åœ¨Hugoä¸­ï¼Œæ‰€æœ‰çš„å†…å®¹å­˜æ”¾åœ¨`content`ç›®å½•ä¸­ã€‚å…¶ä¸­æ¯ä¸€ä¸ªç›®å½•ç§°ä¸ºä¸€ä¸ª`section`ï¼Œsectionå¯ä»¥ç”¨äºåé¢åˆ†ç±»ç”¨ã€‚æˆ‘ä»¬å…ˆæ¥ç”Ÿæˆä¸€äº›å†…å®¹ç”¨äºåé¢æµ‹è¯•æˆ‘ä»¬çš„æ¨¡æ¿ã€‚

å‡è®¾æˆ‘ä»¬åšå®¢æœ‰ä¸¤ä¸ªåˆ†ç±»ï¼Œ`c1`å’Œ`c2`ï¼Œæ¯ä¸ªåˆ†ç±»ä¸‹æœ‰1ç¯‡æ–‡ç« ã€‚

```bash
# ä½¿ç”¨`hugo new`æŒ‡ä»¤æ¥ç”Ÿæˆæ–‡ç« ï¼Œä¼šè‡ªåŠ¨æ›¿æˆ‘ä»¬æ·»åŠ å¿…éœ€çš„FrontMatterï¼Œæ¯”å¦‚`date`å’Œ`title`
hugo new c1/_index.md
echo "# this is c1" >> content/c1/_index.md
hugo new c1/p1.md
echo "# this is post 1 for cat 1" >> content/c1/p1.md
hugo new c2/_index.md
echo "# this is c2" >> content/c2/_index.md
hugo new c2/p1.md
echo "# this is post 1 for cat 2" >> content/c2/p1.md
```

åœ¨Hugoä¸­ï¼Œä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯Pageé¡µé¢ï¼Œè€Œæ¯ä¸€ä¸ªé¡µé¢éƒ½å¯¹åº”ä¸€ä¸ªæºæ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬è®¿é—®`/c1/`æ˜¯ï¼Œå¯¹åº”çš„æºæ–‡ä»¶æ˜¯`content/c1/_index.md`ï¼Œå½“æˆ‘ä»¬è®¿é—®`/c1/p1/`æ—¶ï¼Œå¯¹åº”çš„æºæ–‡ä»¶åˆ™æ˜¯`content/c1/p1.md`

## æ¨¡æ¿

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨Hugoå¼€å‘æœåŠ¡å™¨æ¥é¢„è§ˆæˆ‘ä»¬çš„ç«™ç‚¹äº†ã€‚

```bash
# é»˜è®¤ç”Ÿæˆçš„æ–‡ç« éƒ½æœ‰`draft: true`å±æ€§ï¼Œè¡¨ç¤ºæ–‡ç« ä¸ºè‰ç¨¿ï¼Œhugoé»˜è®¤æƒ…å†µä¸‹å¿½ç•¥drafts
# `--buildDrafts`å‘Šè¯‰Hugoæˆ‘ä»¬è¦æ¸²æŸ“Drafts
hugo server --buildDrafts
```

æ‰“å¼€1313ç«¯å£ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œå—¯ï¼Œè¿™å°±å¯¹äº†ã€‚

ä¸ºä»€ä¹ˆä»€ä¹ˆéƒ½æ²¡æœ‰å‘¢ï¼Œå› ä¸ºåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»€ä¹ˆæ¨¡æ¿éƒ½æ²¡æœ‰ç¼–å†™ï¼ŒHugoè¦æ˜¯èƒ½å±•ç°å†…å®¹ï¼Œé‚£å°±å¥‡æ€ªäº†ã€‚

è¿™é‡Œæä¸€ä¸‹ï¼Œåˆ«çš„æ•™ç¨‹å¯èƒ½éƒ½ä¼šè®©æ–°æ‰‹ç›´æ¥å®‰è£…Hugoçš„æŸä¸ªä¸»é¢˜ï¼Œä¸»é¢˜æ˜¯åˆ«äººå†™å¥½çš„æ¨¡æ¿ç³»ç»Ÿå°è£…èµ·æ¥äº†ã€‚æˆ‘è§‰å¾—æŒæ¡Hugoçš„ä¸€ä¸ªå…³é”®å°±æ˜¯è¦å¼„æ¸…æ¥šå®ƒçš„æ¨¡æ¿ç³»ç»Ÿï¼Œå› æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨ä»»ä½•ä¸»é¢˜ï¼Œè‡ªå·±æ¥ç¼–å†™æ¯ä¸€ä¸ªæ¨¡æ¿ã€‚

åœ¨Hugoçš„æ¨¡æ¿ç³»ç»Ÿä¸­ï¼Œé¡µé¢åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œç¬¬ä¸€æ˜¯åˆ—è¡¨å‹é¡µé¢ï¼Œè¿™ç§é¡µé¢å¯¹åº”çš„å†…å®¹æ–‡ä»¶æ˜¯æŸä¸ªç›®å½•çš„`_index.md`ï¼Œæ¯”å¦‚ï¼Œå½“æˆ‘ä»¬è®¿é—®`/c1/`æ—¶ï¼ŒHugoé»˜è®¤ä¼šä½¿ç”¨`list.html`æ¨¡æ¿æ¥æ¸²æŸ“`content/c1/_index.md`æ–‡ä»¶ã€‚

è¿˜æœ‰ä¸€ç§å°±æ˜¯å•çº¯çš„å†…å®¹é¡µé¢ï¼Œè¿™ç§é¡µé¢å¯¹åº”çš„æ˜¯æŸä¸ªç›®å½•çš„æ™®é€šæ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬è®¿é—®`/c1/p1/`æ—¶ï¼ŒHugoé»˜è®¤ä¼šä½¿ç”¨`single.html`æ¨¡æ¿æ¥æ¸²æŸ“`content/c1/p1.md`æ–‡ä»¶ã€‚

é¦–é¡µæ¯”è¾ƒç‰¹æ®Šï¼Œä½¿ç”¨çš„æ¨¡æ¿åå«åš`index.html`ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰ä¸€ä¸ªå«åš`baseof.html`çš„æ¨¡æ¿ï¼Œçœ‹åå­—å°±çŸ¥é“äº†ï¼Œå®ƒæ˜¯æ‰€æœ‰æ¨¡æ¿çš„åŸºç¡€ã€‚

Hugoçš„æ¨¡æ¿å…¨éƒ¨å­˜æ”¾åœ¨`layouts`ç›®å½•ä¸­ï¼Œé»˜è®¤æ¨¡æ¿å­˜æ”¾åœ¨`_default`æ–‡ä»¶å¤¹ä¸­ã€‚æ¯ä¸€ä¸ªæºæ–‡ä»¶å¯ä»¥é€šè¿‡FrontMatteræ¥æŒ‡å®šä½¿ç”¨ä»€ä¹ˆæ¨¡æ¿ï¼Œå¦‚æœä¸æŒ‡å®šå°±ä½¿ç”¨é»˜è®¤æ¨¡æ¿ã€‚æ¸²æŸ“æ¨¡æ¿æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨ç»‘å®šä¸€ä¸ªPageå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå˜é‡è·å–æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ã€‚

å…ˆæ¥ç¼–å†™`baseof.html`æ¨¡æ¿ï¼Œæ–°å»º`layouts/_default/baseof.html`æ–‡ä»¶ã€‚

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Blog</title>
</head>
<body>
{{ block "main" . }}
{{ end }}
</body>
</html>
```

Hugoçš„æ¨¡æ¿æœ‰ä¸€ä¸ªå«åš`block`çš„æœºåˆ¶ï¼Œå…·ä½“è§[Hugo Block]ï¼Œç®€å•æ¥è¯´ï¼Œçˆ¶æ¨¡æ¿å¯ä»¥å®šä¹‰æ¸²æŸ“ä»€ä¹ˆblockï¼Œç„¶åå­æ¨¡æ¿ä¸­å¯ä»¥å®šä¹‰blockçš„å†…å®¹ã€‚

æ¥ä¸‹æ¥ç¼–å†™`index.html`ï¼Œå…ˆå¼„å¥½é¦–é¡µã€‚æ–°å»º`layouts/index.html`æ–‡ä»¶ã€‚

```html
{{ define "main" }}
  {{ .Content }}
{{ end }}
```

é¦–é¡µçš„æ¨¡æ¿é¦–å…ˆå®šä¹‰`baseof.html`ä¸­æ¸²æŸ“çš„`main`blockï¼Œç„¶åç›´æ¥æ¸²æŸ“Pageå˜é‡çš„`Content`å±æ€§ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„æºæ–‡ä»¶çš„å†…å®¹ã€‚

æˆ‘ä»¬æ–°å»º`content/_index.md`æ–‡ä»¶ï¼Œæ·»åŠ ä¸€äº›å†…å®¹ã€‚

```bash
hugo new _index.md
echo "# This is index page" >> content/_index.md
```

å›åˆ°æµè§ˆå™¨ï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢è‡ªåŠ¨åˆ·æ–°äº†ã€‚

> git checkout skeleton

![](http://ww1.sinaimg.cn/large/9b85365dgy1fgesi9dqzwj20lz0ay0ss)

è¿™é‡Œæ¥æ¢³ç†ä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬æ‰“å¼€é¦–é¡µæ—¶ï¼ŒHugoé¦–å…ˆä¼šå»å¯»æ‰¾é¦–é¡µå¯¹åº”çš„æºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯`content/_index.md`ï¼Œç„¶åä¼šä½¿ç”¨è¿™ä¸ªæ–‡ä»¶å»æ¸²æŸ“æ¨¡æ¿`layouts/index.html`å’Œ`layouts/_default/baseof.html`ï¼Œæœ€åå¾—åˆ°ç”Ÿæˆçš„htmlæ–‡ä»¶å±•ç°ç»™æˆ‘ä»¬ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬è¦è§„åˆ’ä¸€ä¸‹åšå®¢çš„ç»“æ„ï¼Œç„¶åå¼€å§‹æ…¢æ…¢å®ç°ã€‚

- é¦–å…ˆï¼Œé¦–é¡µå’Œåˆ†ç±»é¡µéƒ½éœ€è¦ä¸€ä¸ªé¡¶éƒ¨å¯¼èˆªæ ï¼Œæ˜¾ç¤ºæ‰€æœ‰çš„åˆ†ç±»ï¼Œç‚¹å‡»è·³è½¬åˆ°å¯¹åº”çš„åˆ†ç±»é¡µã€‚
- åˆ†ç±»é¡µæ ¹æ®æ—¶é—´åˆ—å‡ºæ‰€æœ‰çš„åšæ–‡ï¼Œç‚¹å‡»è·³è½¬åˆ°å¯¹åº”çš„åšæ–‡é¡µã€‚
- åšæ–‡é¡µå±•ç¤ºåšæ–‡å†…å®¹ã€‚

okï¼Œç°åœ¨ä¸€ä¸ªä¸€ä¸ªæ¥ã€‚

## å¯¼èˆªæ 

ç”±äºé¦–é¡µå’Œåˆ†ç±»é¡µéƒ½è¦ç”¨åˆ°å¯¼èˆªæ ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨Hugoçš„Partialæ¥åšï¼ŒPartialç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªç‰‡æ®µï¼Œå¯ä»¥åœ¨ä¸åŒçš„æ¨¡æ¿ä¸­å¼•ç”¨å®ƒã€‚

æˆ‘ä»¬æ‰“ç®—ç›´æ¥å°†`content`ç›®å½•ä¸­çš„ç›®å½•ï¼ˆå«åšsectionï¼‰ä½œä¸ºåˆ†ç±»ï¼Œé¦–å…ˆï¼Œåœ¨å…¨å±€é…ç½®ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ã€‚

```yaml
SectionPagesMenu: main
```

Hugoæä¾›äº†ä¸€å¥—å¤æ‚çš„èœå•ç³»ç»Ÿï¼Œè¿™ä¸ªé…ç½®å‘Šè¯‰Hugoï¼Œå°†æ‰€æœ‰çš„sectionéƒ½æ”¾å…¥`main`è¿™ä¸ªèœå•ä¸­ï¼Œåœ¨æ¨¡æ¿ä¸­é€šè¿‡éå†mainèœå•ï¼Œä¾¿å¯ä»¥æ¸²æŸ“å‡ºæ‰€æœ‰çš„åˆ†ç±»ã€‚

æ–°å»ºæ–‡ä»¶ï¼Œ`layouts/partials/header.html`ã€‚

```html
<header>
  <nav>
    {{ range .Site.Menus.main }}
      <a class="{{if eq $.URL .URL}}active{{end}}" href="{{ .URL }}">
        {{ .Name }}
      </a>
    {{ end }}
  </nav>
</header>
```

å…ˆæŠŠè¿™ä¸ªåº”ç”¨åˆ°é¦–é¡µä¸Šçœ‹çœ‹ã€‚ç¼–è¾‘æ–‡ä»¶`layouts/index.html`ã€‚

```html
{{ define "main" }}
  <main>
    {{ partial "header" . }}
    <article>
      {{ .Content }}
    </article>
  </main>
{{ end }}
```

æµè§ˆå™¨é¡µé¢å¦‚ä¸‹ã€‚

![](http://ww1.sinaimg.cn/large/9b85365dgy1fgeslx5j0ij20ly0bgglo)

çœ‹èµ·æ¥ï¼Œheaderç”Ÿæ•ˆäº†ï¼Œä½†æ˜¯ï¼Œä¸ºä»€ä¹ˆä¸¤ä¸ªåˆ†ç±»çš„åç§°å«åš`_index`å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒHugoæ˜¯ä½¿ç”¨åˆ†ç±»å¯¹åº”çš„æºæ–‡ä»¶çš„`title`å±æ€§ï¼Œè¿™ä¸ªå±æ€§é»˜è®¤æ˜¯æ–‡ä»¶åã€‚

ç¼–è¾‘`content/c1/_index.md`æ–‡ä»¶å’Œ`content/c2/_index.md`æ–‡ä»¶çš„`title`å±æ€§ï¼Œæ”¹ä¸º`åˆ†ç±»1`å’Œ`åˆ†ç±»2`ã€‚è¿™æ¬¡å°±æ­£ç¡®äº†ã€‚

## åˆ†ç±»é¡µ

ç‚¹å‡»è¿™ä¸¤ä¸ªåˆ†ç±»ï¼Œå‘ç°å†…å®¹æ˜¯ç©ºç™½çš„ã€‚å½“ç„¶ï¼Œåˆ†ç±»é¡µç”¨çš„æ¨¡æ¿æ˜¯`list.html`ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰ç¼–å†™ã€‚

æ–°å»º`layouts/_default/list.html`æ–‡ä»¶ã€‚

```html
{{ define "main" }}
  {{ partial "header" . }}
  <div class="list">
    {{ range .Data.Pages.GroupByDate "2006-01" }}
      <div class="list__item">
        <h3 class="list__title">{{ .Key }}</h3>
        <ul>
          {{ range .Pages }}
            <li class="list__post">
              <span></span>
              <a href="{{ .Permalink }}">{{ .Title }}</a>
              <div>{{ .Date.Format "2006.01.02" }}</div>
            </li>
          {{ end }}
        </ul>
      </div>
    {{ end }}
  </div>
{{ end }}
```

æ¨¡æ¿ä»£ç çš„å«ä¹‰æ˜¯æ ¹æ®æ—¥æœŸå’Œæ—¶é—´æ¥æ¸²æŸ“åˆ†ç±»ä¸‹çš„åšæ–‡ã€‚æ•ˆæœå¦‚ä¸‹ï¼Œæˆ‘çŸ¥é“éš¾çœ‹ï¼Œç¾åŒ–ä¸ç€æ€¥ã€‚

![](http://ww1.sinaimg.cn/large/9b85365dgy1fgetkmelx0j20nl0azq30)

> git checkout category

## åšæ–‡é¡µ

æœ€åï¼Œä¾¿æ˜¯å±•ç¤ºå•ç¯‡åšæ–‡çš„åšæ–‡é¡µï¼Œä½¿ç”¨çš„æ¨¡æ¿æ˜¯`single.html`ï¼Œæ–°å»ºæ–‡ä»¶`layouts/_default/single.html`å¦‚ä¸‹ã€‚

```html
{{ define "main" }}
  <article>
    {{ .Content }}
  </article>
{{ end }}
```

å¾ˆç®€å•ï¼Œç›´æ¥æ¸²æŸ“åšæ–‡å†…å®¹ï¼Œ`http://localhost:1313/c1/p1/`é¡µé¢å¦‚ä¸‹ã€‚

![](http://ww1.sinaimg.cn/large/9b85365dgy1fgetqxr6fhj20nl078mx4)

ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„åšå®¢åŸºæœ¬ç»“æ„å°±æ­å»ºå¥½äº†ã€‚

> git checkout basic

## CSSï¼ŒJSåŠå…¶ä»–é™æ€èµ„æº

ç°åœ¨å‰©ä¸‹çš„å·¥ä½œä¾¿æ˜¯ä½¿ç”¨CSSæ¥ç¾åŒ–æˆ‘ä»¬çš„åšå®¢äº†ã€‚Hugoæ ¹ç›®å½•ä¸­çš„`static`ç›®å½•ç”¨äºå­˜å‚¨å„ç§é™æ€æ–‡ä»¶ï¼ŒåŒ…æ‹¬CSSå’ŒJSã€‚é‡Œé¢çš„å†…å®¹åœ¨Hugoç”Ÿæˆç«™ç‚¹æ—¶ä¼šè¢«åŸå°ä¸åŠ¨æ‹·è´åˆ°ç›®æ ‡ç›®å½•ä¸­(é»˜è®¤æ˜¯public)ã€‚

æ–°å»º`static/main.css`æ–‡ä»¶ï¼Œä¿®æ”¹`layouts/_default/baseof.html`åŸºç¡€æ¨¡æ¿å¼•å…¥è¿™ä¸ªæ–‡ä»¶ã€‚

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Blog</title>
  <link rel="stylesheet" type="text/css" href="/main.css">
</head>
<body>
{{ block "main" . }}
{{ end }}
</body>
</html>
```

å¼•å…¥JSçš„é“ç†åŒä¸Šã€‚è‡³äºå…·ä½“çš„æ ·å¼ä»£ç ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ã€‚

> git checkout final

## å‘å¸ƒ

æœ€åä¸€æ­¥ä¾¿æ˜¯å‘å¸ƒï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ`hugo`å°±å¯ä»¥å°†ç«™ç‚¹ç”Ÿæˆåœ¨`public`æ–‡ä»¶å¤¹ä¸­ã€‚ä¸¢ç»™Nginxæˆ–è€…ä¼ åˆ°Githubä¸Šéšä¾¿ä½ äº†ã€‚

Hugoå®˜æ–¹æœ‰ä¸€ç¯‡æ–‡æ¡£[Hosting on GitHub Pages]è¯´æ˜å¦‚ä½•éƒ¨ç½²åœ¨GitHubä¸Šï¼Œå¯ä»¥é˜…è¯»ä¸€ä¸‹ã€‚

æœ€åï¼ŒHugoç¡®å®æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„SSGï¼Œæ‹¥æœ‰é€Ÿåº¦å¿«ï¼Œæ¨¡æ¿çµæ´»ï¼Œç»“æ„æ¸…æ™°ç­‰å„ç§ä¼˜ç‚¹ï¼Œå¦‚æœå¤§å®¶æœ‰å…´è¶£ï¼Œä¸‹ä¸€ä¸ªé™æ€ç«™ç‚¹é¡¹ç›®å¯ä»¥è¯•è¯•ç”¨Hugoæ¥æ„å»ºã€‚å½“ç„¶ï¼Œå†å¥½çš„å·¥å…·ä¹Ÿä¸èƒ½è§£å†³äººçš„æ‡’æƒ°ï¼Œæˆ‘è¦åŠ æ²¹åšæŒå†™åšå®¢äº†~ğŸ˜‰

[Hugo]: https://github.com/spf13/hugo
[Hugo Release]: https://github.com/spf13/hugo/releases
[Hugo Block]: https://gohugo.io/templates/blocks/
[Hugo Template]: https://gohugo.io/templates/overview/
[Static Gen]: https://www.staticgen.com/
[Page]: https://gohugo.io/templates/variables/#page-variables
[Go Template Primer]: https://gohugo.io/templates/go-templates/
[Configuring Hugo]: https://gohugo.io/overview/configuration/
[Hosting on GitHub Pages]: https://gohugo.io/tutorials/github-pages-blog#building-and-deployment
